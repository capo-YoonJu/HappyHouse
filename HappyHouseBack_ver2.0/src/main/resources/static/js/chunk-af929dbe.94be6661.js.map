{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.regexp.test.js","webpack:///./src/components/user/info.vue?0edc","webpack:///./src/components/user/info.vue?f04f","webpack:///src/components/user/info.vue","webpack:///./src/components/user/info.vue?e19e","webpack:///./src/components/user/info.vue?aceb"],"names":["$","global","call","uncurryThis","isCallable","isObject","DELEGATES_TO_EXEC","execCalled","re","exec","apply","this","arguments","test","Error","un$Test","target","proto","forced","str","result","render","_vm","_h","$createElement","_c","_self","staticClass","_v","on","onSubmit","attrs","isValidPassword","statePassword","model","value","user","callback","$$v","$set","expression","isValidName","stateName","isValidAddress","stateAddress","isValidTel","stateTel","directives","name","rawName","modifiers","scopedSlots","_u","key","fn","$event","signout","proxy","passwordCheck","staticRenderFns","component"],"mappings":"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","file":"js/chunk-af929dbe.94be6661.js","sourcesContent":["'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar DELEGATES_TO_EXEC = function () {\n  var execCalled = false;\n  var re = /[ac]/;\n  re.exec = function () {\n    execCalled = true;\n    return /./.exec.apply(this, arguments);\n  };\n  return re.test('abc') === true && execCalled;\n}();\n\nvar Error = global.Error;\nvar un$Test = uncurryThis(/./.test);\n\n// `RegExp.prototype.test` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.test\n$({ target: 'RegExp', proto: true, forced: !DELEGATES_TO_EXEC }, {\n  test: function (str) {\n    var exec = this.exec;\n    if (!isCallable(exec)) return un$Test(this, str);\n    var result = call(exec, this, str);\n    if (result !== null && !isObject(result)) {\n      throw new Error('RegExp exec method returned something other than an Object or null');\n    }\n    return !!result;\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=0&id=7bb17816&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"info-container\"},[_c('h2',[_vm._v(\"마이페이지\")]),_c('b-form',{staticClass:\"info-form\",on:{\"submit\":_vm.onSubmit}},[_c('b-form-group',{attrs:{\"id\":\"password-group\",\"label\":\"비밀번호\",\"label-for\":\"password\",\"description\":\"알파벳과 숫자로 이루어진 4~16자리\",\"valid-feedback\":\"사용가능한 비밀번호입니다!\",\"invalid-feedback\":_vm.isValidPassword,\"state\":_vm.statePassword}},[_c('b-form-input',{attrs:{\"id\":\"password-input\",\"type\":\"password\",\"required\":\"\",\"state\":_vm.statePassword},model:{value:(_vm.user.userPassword),callback:function ($$v) {_vm.$set(_vm.user, \"userPassword\", $$v)},expression:\"user.userPassword\"}})],1),_c('b-form-group',{attrs:{\"id\":\"name-group\",\"label\":\"이름\",\"label-for\":\"name\",\"invalid-feedback\":_vm.isValidName,\"state\":_vm.stateName}},[_c('b-form-input',{attrs:{\"id\":\"name-input\",\"type\":\"text\",\"required\":\"\",\"state\":_vm.stateName},model:{value:(_vm.user.userName),callback:function ($$v) {_vm.$set(_vm.user, \"userName\", $$v)},expression:\"user.userName\"}})],1),_c('b-form-group',{attrs:{\"id\":\"address-group\",\"label\":\"주소\",\"label-for\":\"address\",\"invalid-feedback\":_vm.isValidAddress,\"state\":_vm.stateAddress}},[_c('b-form-input',{attrs:{\"id\":\"address-input\",\"type\":\"text\",\"required\":\"\",\"state\":_vm.stateAddress},model:{value:(_vm.user.userAddress),callback:function ($$v) {_vm.$set(_vm.user, \"userAddress\", $$v)},expression:\"user.userAddress\"}})],1),_c('b-form-group',{attrs:{\"id\":\"tel-group\",\"label\":\"휴대폰 번호\",\"label-for\":\"tel\",\"invalid-feedback\":_vm.isValidTel,\"state\":_vm.stateTel}},[_c('b-form-input',{attrs:{\"id\":\"tel-input\",\"type\":\"tel\",\"required\":\"\",\"state\":_vm.stateTel},model:{value:(_vm.user.userTel),callback:function ($$v) {_vm.$set(_vm.user, \"userTel\", $$v)},expression:\"user.userTel\"}})],1),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"저장\")]),_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.signout\",modifiers:{\"signout\":true}}],attrs:{\"variant\":\"danger\"}},[_vm._v(\"회원 탈퇴\")]),_c('b-modal',{attrs:{\"id\":\"signout\",\"title\":\"회원 탈퇴\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.signout()}}},[_vm._v(\" 회원 탈퇴 \")])]},proxy:true}])},[_c('b-form-group',{attrs:{\"label\":\"비밀번호 확인\",\"label-for\":\"password-check\"}},[_c('b-form-input',{attrs:{\"id\":\"password-check-input\",\"type\":\"password\",\"required\":\"\"},model:{value:(_vm.passwordCheck),callback:function ($$v) {_vm.passwordCheck=$$v},expression:\"passwordCheck\"}})],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"info-container\">\r\n      <h2>마이페이지</h2>\r\n      <b-form class=\"info-form\" @submit=\"onSubmit\">\r\n        <b-form-group\r\n          id=\"password-group\"\r\n          label=\"비밀번호\"\r\n          label-for=\"password\"\r\n          description=\"알파벳과 숫자로 이루어진 4~16자리\"\r\n          valid-feedback=\"사용가능한 비밀번호입니다!\"\r\n          :invalid-feedback=\"isValidPassword\"\r\n          :state=\"statePassword\"\r\n        >\r\n          <b-form-input\r\n            id=\"password-input\"\r\n            v-model=\"user.userPassword\"\r\n            type=\"password\"\r\n            required\r\n            :state=\"statePassword\"\r\n          ></b-form-input>\r\n        </b-form-group>\r\n\r\n        <b-form-group\r\n          id=\"name-group\"\r\n          label=\"이름\"\r\n          label-for=\"name\"\r\n          :invalid-feedback=\"isValidName\"\r\n          :state=\"stateName\"\r\n        >\r\n          <b-form-input\r\n            id=\"name-input\"\r\n            v-model=\"user.userName\"\r\n            type=\"text\"\r\n            required\r\n            :state=\"stateName\"\r\n          ></b-form-input>\r\n        </b-form-group>\r\n\r\n        <b-form-group\r\n          id=\"address-group\"\r\n          label=\"주소\"\r\n          label-for=\"address\"\r\n          :invalid-feedback=\"isValidAddress\"\r\n          :state=\"stateAddress\"\r\n        >\r\n          <b-form-input\r\n            id=\"address-input\"\r\n            v-model=\"user.userAddress\"\r\n            type=\"text\"\r\n            required\r\n            :state=\"stateAddress\"\r\n          ></b-form-input>\r\n        </b-form-group>\r\n\r\n        <b-form-group\r\n          id=\"tel-group\"\r\n          label=\"휴대폰 번호\"\r\n          label-for=\"tel\"\r\n          :invalid-feedback=\"isValidTel\"\r\n          :state=\"stateTel\"\r\n        >\r\n          <b-form-input\r\n            id=\"tel-input\"\r\n            v-model=\"user.userTel\"\r\n            type=\"tel\"\r\n            required\r\n            :state=\"stateTel\"\r\n          ></b-form-input>\r\n        </b-form-group>\r\n        <b-button type=\"submit\" variant=\"primary\">저장</b-button>\r\n        <b-button variant=\"danger\" v-b-modal.signout>회원 탈퇴</b-button>\r\n\r\n        <b-modal id=\"signout\" title=\"회원 탈퇴\">\r\n          <b-form-group label=\"비밀번호 확인\" label-for=\"password-check\">\r\n            <b-form-input\r\n              id=\"password-check-input\"\r\n              v-model=\"passwordCheck\"\r\n              type=\"password\"\r\n              required\r\n            ></b-form-input>\r\n          </b-form-group>\r\n          <template #modal-footer>\r\n            <b-button size=\"sm\" variant=\"danger\" @click=\"signout()\">\r\n              회원 탈퇴\r\n            </b-button>\r\n          </template>\r\n        </b-modal>\r\n      </b-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { login, updateUser } from \"@/api/user.js\";\r\n  import { mapActions } from 'vuex';\r\n  const regPassword = /^[A-Za-z0-9]{4,16}$/;\r\n  const regName = /^[가-힣A-Za-z]{2,20}$/;\r\n  const regAddress = /^[가-힣0-9]{2,30}$/;\r\n  const regTel = /^01([0|1|6|7|8|9])-?([0-9]{3,4})-?([0-9]{4})$/;\r\n  export default {\r\n    data() {\r\n      return {\r\n        passwordCheck: null,\r\n        user: {\r\n          userId: \"\",\r\n          userPassword: \"\",\r\n          userName: \"\",\r\n          userAddress: \"\",\r\n          userTel: \"\"\r\n        },\r\n      }\r\n    },\r\n    computed: {\r\n      statePassword() {\r\n        return this.user.userPassword != null && regPassword.test(this.user.userPassword);\r\n      },\r\n      isValidPassword() {\r\n        if(this.user.userPassword == \"\") {\r\n          return \"비밀번호를 입력해주세요.\";\r\n        }\r\n        return \"비밀번호을 확인해주세요.\";\r\n      },\r\n      stateName() {\r\n        return this.user.userName != null && regName.test(this.user.userName);\r\n      },\r\n      isValidName() {\r\n        if(this.user.userName == \"\") {\r\n          return \"이름를 입력해주세요.\";\r\n        }\r\n        return \"이름을 확인해주세요.\";\r\n      },\r\n      stateAddress() {\r\n        return this.user.userAddress != null && regAddress.test(this.user.userAddress);\r\n      },\r\n      isValidAddress() {\r\n        if(this.user.userAddress == \"\") {\r\n          return \"주소를 입력해주세요.\";\r\n        }\r\n        return \"주소를 확인해주세요.\";\r\n      },\r\n      stateTel() {\r\n        return this.user.userTel != null && regTel.test(this.user.userTel);\r\n      },\r\n      isValidTel() {\r\n        if(this.user.userTel == \"\") {\r\n          return \"휴대폰 번호를 입력해주세요.\";\r\n        }\r\n        return \"휴대폰 번호를 확인해주세요.\";\r\n      },\r\n    },\r\n    created() {\r\n      this.user = this.$store.state.userStore.userInfo;\r\n    },\r\n    methods: {\r\n      ...mapActions(\"userStore\", [\"deleteUserInfo\"]),\r\n      onSubmit(event) {\r\n        event.preventDefault();\r\n        if (!(this.statePassword && this.stateName && this.stateAddress && this.stateTel)) {\r\n          alert(\"입력한 정보들을 다시 한번 확인해주세요.\")\r\n          return;\r\n        }\r\n        updateUser(this.user, \r\n          (response) => {\r\n            console.log(response);\r\n            this.user.userPassword = null;\r\n            this.$store.commit(\"userStore/SET_USER_INFO\", this.user);\r\n            alert(\"회원 정보가 수정되었습니다.\");\r\n            this.$router.push({ name: \"Home\" });\r\n          },\r\n          (error) => {\r\n            console.log(error);\r\n            alert(\"회원 정보를 수정하는데 실패하였습니다.\");\r\n          }\r\n        )\r\n      },\r\n      signout() {\r\n        login( {\r\n            userId: this.user.userId,\r\n            userPassword: this.passwordCheck\r\n          },\r\n          ({ data }) => {\r\n            if (data.message === \"success\") {\r\n              this.deleteUserInfo()\r\n              .then( () => {\r\n                  alert(\"회원 탈퇴되었습니다.\");\r\n                  this.$router.push({ name: \"Home\" });\r\n                }\r\n              )\r\n              .catch( (error) => {\r\n                  console.log(error);\r\n                  alert(\"회원 탈퇴에 실패하였습니다.\");\r\n                }\r\n              );\r\n            }else {\r\n              alert(\"회원 탈퇴에 실패하였습니다. 비밀번호를 확인해주세요.\");\r\n            }\r\n          },\r\n          (error) => {\r\n            console.log(error);\r\n            alert(\"회원 탈퇴에 실패하였습니다.\");\r\n          },\r\n        );\r\n        this.passwordCheck = null;\r\n      },\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .info-container {\r\n    margin: 2rem auto;\r\n    max-width: 20rem;\r\n  }\r\n  h2,.alert-danger,.form-group,.btn {\r\n    font-weight: bold;\r\n  }\r\n  .alert-danger {\r\n    padding: 1rem 3rem 1rem 1rem;\r\n    text-align: left;\r\n    color: #D32F2F;\r\n  }\r\n  form {\r\n    margin-top: 1rem;\r\n  }\r\n  .form-group {\r\n    margin-bottom: 1rem;\r\n    text-align: left;\r\n  }\r\n  .form-control {\r\n    border: 1px solid #D7E2EB;\r\n    background-color: #FBFBFD;\r\n  }\r\n  .btn {\r\n    margin: 0.5rem 1.5rem;\r\n    width: 30%;\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./info.vue?vue&type=template&id=7bb17816&scoped=true&\"\nimport script from \"./info.vue?vue&type=script&lang=js&\"\nexport * from \"./info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./info.vue?vue&type=style&index=0&id=7bb17816&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bb17816\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}